<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.team1.project.dao.SnsDAO">
<select id="getBoardList" resultType="com.team1.project.dto.SnsBoardDTO">
    <![CDATA[
        select
            rownum as rnum,
            sb.board_num as boardNum,
            sb.MEMBER_ID as memberId,
            sb.TITLE as title,
            sb.CONTENT as content,
            sb.VIEW_COUNT as viewCount,
            sb.REG_DATE as regDate,
            sb.MOD_DATE as modDate,
            sb.DELETE_YN as deleteYn,
            sb.LIKE_COUNT as likeCount,
            sb.COMMENT_COUNT as commentCount,
            (case when sl.board_num is not null then 1
                  else 0
                end )
                as liked,
            sf.real_name
        from sns_board sb
        left join sns_like sl on (sb.board_num = sl.board_num and sb.member_id = sl.member_id)
        left join sns_file sf on (sb.board_num = sf.board_num)
        where
            1 = 1
          and sb.member_id = 7800
        order by sb.board_num desc
    ]]>
</select>


</mapper>
 